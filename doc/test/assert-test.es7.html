<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: assert-test.es7</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: assert-test.es7</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>'use strict';

/**
 * @file Some utilities (error, assert and friends) too simple to get elsewhere.
 */

/**
 * @param {String} name to add to a standard 
 * &lt;a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error">Error&lt;/a> object.
 *
 * @param {String} message to pass to the 
 * &lt;a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error">Error&lt;/a> constructor
 *
 * @returns {Error} an 
 * &lt;a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error">Error&lt;/a> object with a name
 *
 * @example
 *  try {
 *    ..
 *    throw error('PARSING', 'Unexpected token');
 *    ..
 *  }
 *  catch (e) {
 *    console.error(e.name, ': ', e.message);
 *  }
 */
function error(name, message) {
  let e = new Error(message);
  e.name = name;
  return e;
}

/**
 * This is private but can be retrieved using the {@link nerrors} function.
 * 
 * @global 
 */
let errors = 0;

/**
 * @description Non-throwing assert function. If an assertion fails, the error is
 * noted by increasing {@link nerrors} but no exception is thrown.
 *
 * @param {Expression} e to be tested
 *
 * @param {String} text_if_true is &lt;code>e&lt;/code> is 'truthy', this text
 *   will be shown using console.log()
 *
 * @param {String} text_if_false is &lt;code>e&lt;/code> is not 'truthy', this text
 *  will be shown using console.error()
 *
 * @returns {Boolean} true iff &lt;code>e&lt;/code> is 'truthy'
 *
 * @see nerrors
 */
function assert(e, text_if_true, text_if_false) {
  if (e) {
    console.log(`OK  ${text_if_true}`);
    return true;
  }
  else {
    console.error(`FAIL ${text_if_false}`);
    ++errors;
    return false
  }
}

/**
 * @description Unforgiving assert function. 
 * If an assertion fails, an error is thrown.
 *
 * @param {Expression} e expression to be tested
 *
 * @param {String} text_if_true is &lt;code>e&lt;/code> is 'truthy', this text
 *   will be shown using console.log()
 *
 * @param {String} text_if_false is &lt;code>e&lt;/code> is 'truthy', this text
 *  will be shown using console.error()
 *
 * @returns {Boolean} true iff &lt;code>e&lt;/code> is 'truthy', else throws an error
 * @throws {Error} if &lt;code>e&lt;/code> is not 'truthy'.
 *
 * @see error
 */
function assertx(e, text_if_true, text_if_false) {
  if (e) {
    console.log(`OK  ${text_if_true}`);
    return true;
  }
  else {
    console.error(`FAIL ${text_if_false}`);
    throw error('FAIL', text_if_false);
  }
}

/**
 * @returns {Integer} the number of errors so far, i.e. the number of times 
 * {@link assert} failed.
 * @see assert
 */
function nerrors() {
  return errors;
}

export { error, assert, assertx, nerrors};


</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#array_eq">array_eq</a></li><li><a href="global.html#array_push">array_push</a></li><li><a href="global.html#assert">assert</a></li><li><a href="global.html#assertx">assertx</a></li><li><a href="global.html#begin">begin</a></li><li><a href="global.html#cbuf_push_contract">cbuf_push_contract</a></li><li><a href="global.html#cbuf_shift_contract">cbuf_shift_contract</a></li><li><a href="global.html#check_iterable">check_iterable</a></li><li><a href="global.html#check_ordered_access">check_ordered_access</a></li><li><a href="global.html#checked_cbuf_push">checked_cbuf_push</a></li><li><a href="global.html#checked_cbuf_shift">checked_cbuf_shift</a></li><li><a href="global.html#contents">contents</a></li><li><a href="global.html#data">data</a></li><li><a href="global.html#error">error</a></li><li><a href="global.html#errors">errors</a></li><li><a href="global.html#freesz">freesz</a></li><li><a href="global.html#interval">interval</a></li><li><a href="global.html#invariant">invariant</a></li><li><a href="global.html#last">last</a></li><li><a href="global.html#length">length</a></li><li><a href="global.html#nerrors">nerrors</a></li><li><a href="global.html#pop">pop</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Sun Oct 29 2017 14:52:09 GMT+0100 (CET)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
